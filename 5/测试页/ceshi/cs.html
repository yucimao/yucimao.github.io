<script src="/js/jquery.min.js"></script>
<img id="img" src="" />
<div id="dy"></div>
<script>
    let LocString = String(window.document.location.href);
    function GetQueryString(name) {
        let rs = new RegExp("(^|)" + name + "=([^&]*)(&|$)", "gi").exec(LocString), tmp;
        if (tmp = rs) { return decodeURI(tmp[2]); }
        return "";
    }
    let dz = GetQueryString("u");
    let ms = GetQueryString("c");
    let di = "data:image/" + GetQueryString("j") + ";base64,";

    let hx = {
        "A": "Α",
        "B": "Β",
        "C": "С",
        "D": "α",
        "E": "Ε",
        "F": "е",
        "G": "с",
        "H": "Η",
        "I": "Ι",
        "J": "ο",
        "K": "Κ",
        "L": "ρ",
        "M": "Μ",
        "N": "Ν",
        "O": "Ο",
        "P": "Ρ",
        "Q": "㎎",
        "R": "х",
        "S": "㎏",
        "T": "Τ",
        "U": "㎜",
        "V": "㎝",
        "W": "㎞",
        "X": "Χ",
        "y": "у",
        "Z": "Ζ"
    }

    if (dz=="mq"){
        document.getElementById("dy").innerHTML="<input id=\"mq1\"/><button onclick=\"mq2()\">获取</button>";
    }
    else{
        dz = "/5/测试页/ceshi/" + dz + ".json";
        let dt;
    $.ajaxSettings.async = false;
    $.getJSON(dz, function (data) {
        dt = data;
    });

    let 替换;

    for (let i = 0; ms.length > i; i++) {
        替换 = new RegExp(hx[ms[i]], "g");
        dt = dt.replace(替换, ms[i]);
    }
    document.getElementById("img").src = di + dt;

    }

    function mq2(){
        let mq3=document.getElementById("mq1").value;
        mq3 = mq3.split(";base64,")[1];
        let 替换;
        for (let i = 0; ms.length > i; i++) {
        替换 = new RegExp(ms[i], "g");
        mq3 = mq3.replace(替换, hx[ms[i]]);
    }
    mq3 = "[\""+mq3+"\"]";
    document.getElementById('mq1').value = mq3;
        let mq4 = document.querySelector('#mq1');
        mq4.select();
        document.execCommand("Copy");
    }
</script>