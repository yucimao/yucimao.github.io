<div id="æ¸¸æˆå…">æ•°ç»‡</div><script src="0.js"></script>
<small>
    æ•°å­—æ˜¾ç¤ºè¿™ä¸€è¡Œ/åˆ—æœ‰å‡ ä¸ªé»‘å—ï¼Œæ ¹æ®æç¤ºçŒœæµ‹è¿™äº›é»‘å—çš„ä½ç½®å¹¶ç‚¹å‡»ï¼Œå½“æ•´ä¸ªæ£‹ç›˜éƒ½ç¬¦åˆæ•°å­—æ‰€ç¤ºçš„æƒ…å†µï¼Œå³ä¸ºèƒœåˆ©ã€‚
</small><br><br>

<style>
    .b0{background-color:#e4e4e4;}
    .b1{background-color:#000000;}
    .b0,.b1{width:26px;height:26px;}
    .b0{color:#828282;}
    .b,.b0,.b1,.fuhe{font-size:18px;text-align:center;vertical-align:middle;}
    .fuhe{color:#04e813;}
    .caidan{margin:30px;}
    .caidan td{cursor:pointer;}
    .shuzhi{cursor:default;}
    .zixuan{width:3em}
    .xuanguan{font-size:2em;text-align:center;padding:3px 10px;border:5px solid #e9e9e9;border-radius:50px;margin:10px;}
</style>

<div id="dy"></div>

<div id="èœå•0">
    <a class="anniu" onclick="document.getElementById('èœå•0').style='display:none;';document.getElementById('èœå•01').style=''">é—¯å…³æ¨¡å¼</a><br>
    <a class="anniu" onclick="document.getElementById('èœå•0').style='display:none;';document.getElementById('èœå•02').style=''">éšæœºå…³å¡</a><br>
    <a class="anniu" onclick="document.getElementById('èœå•0').style='display:none;';document.getElementById('èœå•03').style=''">å¯¼å…¥</a>
</div>

<div id="èœå•01" style="display:none;">
<h3 style="display:inline;">é—¯å…³æ¨¡å¼</h3> <a onclick="document.getElementById('èœå•01').style='display:none;';document.getElementById('èœå•0').style=''">å–æ¶ˆ</a><br>
<a onclick="é€‰å…³('æ•™å­¦å…³')">æ•™å­¦å…³</a><br>
<br>

</div>

<div id="èœå•é€‰å…³" style="display:none;"></div>


<div id="èœå•02" style="display:none;">
<h3 style="display:inline;">éšæœºå…³å¡</h3> <a onclick="document.getElementById('èœå•02').style='display:none;';document.getElementById('èœå•0').style=''">å–æ¶ˆ</a><br>

<a class='anniu' onclick="æ‰“å°(5,5,13)">5ğŸ—™5</a><br>
<a class='anniu' onclick="æ‰“å°(10,10,70)">10ğŸ—™10 ç®€å•</a><br>
<a class='anniu' onclick="æ‰“å°(10,10,50)">10ğŸ—™10 ä¸­ç­‰</a><br>
<a class='anniu' onclick="æ‰“å°(10,10,40)">10ğŸ—™10 å›°éš¾</a><br>
<a class='anniu' onclick="æ‰“å°(15,15,113)">15ğŸ—™15</a><br>
<a class='anniu' onclick="æ‰“å°(20,20,200)">20ğŸ—™20</a><br>
<br>
<b>è‡ªé€‰éš¾åº¦</b>ï¼š
<input id="è‡ªé€‰å…³å¡1" class="zixuan">ğŸ—™<input id="è‡ªé€‰å…³å¡2" class="zixuan"> <small>é»‘æ ¼æ•°é‡:</small><input id="è‡ªé€‰å…³å¡3" class="zixuan"> <a onclick="è‡ªé€‰(document.getElementById('è‡ªé€‰å…³å¡1').value,document.getElementById('è‡ªé€‰å…³å¡2').value,document.getElementById('è‡ªé€‰å…³å¡3').value)">ç¡®å®š</a>
</div>

<div id="èœå•03" style="display:none;">
    <h3 style="display:inline;">å¯¼å…¥</h3> <a onclick="document.getElementById('èœå•03').style='display:none;';document.getElementById('èœå•0').style=''">å–æ¶ˆ</a><br>
    <input id="å¯¼å…¥"> <a onclick="å¯¼å…¥(document.getElementById('å¯¼å…¥').value)">ç¡®å®š</a><br>
    <a onclick="è½¬æ¢(document.getElementById('å¯¼å…¥').value)">è½¬æ¢</a><br>
    <br>

    <small>è®¾è®¡ä¸€ä¸ªå…³å¡ï¼šè¾“å…¥â€œæ£‹ç›˜è¡Œæ•°.æ£‹ç›˜åˆ—æ•°.æ£‹ç›˜æƒ…å†µ(ç©ºä¸º0, æœ‰ä¸º1)â€ï¼Œç‚¹å‡»â€œè½¬æ¢â€ï¼Œå°†ä¼šè½¬æ¢æˆå…³å¡ä»£ç ï¼Œå¯ä»¥å¤åˆ¶ä¸‹æ¥ï¼Œå‘ç»™æœ‹å‹ã€‚<br>
    ä½¿ç”¨å…³å¡ä»£ç ï¼šè¾“å…¥å…³å¡ä»£ç ï¼Œç‚¹å‡»â€œç¡®å®šâ€ã€‚<br><br>
        ä¾‹ï¼Œæ£‹ç›˜æƒ…å†µï¼š<table class="x_table shuzhi"><tr><td id="a_1_1" class="b1"></td><td id="a_1_2" class="b0"></td></tr><tr><td id="a_2_1" class="b0"></td><td id="a_2_2" class="b1"></td></tr></table>
        å°†é»‘è‰²éƒ¨åˆ†å†™ä¸ºâ€œ1â€ï¼Œç©ºç™½å¤„å†™ä¸ºâ€œ0â€ï¼Œå°±å¯ä»¥å†™ä½œâ€œ1001â€ã€‚<br>
        åŠ ä¸Šæ£‹ç›˜çš„è¡Œå’Œåˆ—å°±æ˜¯â€œ2.2.1001â€ã€‚<br>
        è¾“å…¥å¹¶è½¬æ¢åï¼Œå¾—åˆ°ä»£ç â€œ2.2.Mâ€ã€‚
</small>
</div>



<div id="èœå•1" style="display:none;">
    <table class="caidan x_table shuzhi"><tr>
        <td class="b0" id="æ‰‹0" onclick="æ‰‹=2;document.getElementById('æ‰‹0').style='color:#000000';document.getElementById('æ‰‹1').style='background-color:#aaaaaa';" style="color:#aaaaaa">ğŸ—™</td>
        <td class="b1" id="æ‰‹1" onclick="æ‰‹=1;document.getElementById('æ‰‹0').style='color:#aaaaaa';document.getElementById('æ‰‹1').style='background-color:#000000';" style="background-color:#000000"></td>
    </tr></table>
    <a onclick="é‡æ–°å¼€å§‹()">é‡æ–°å¼€å§‹</a>ã€€<a onclick="é€‰æ‹©å…³å¡()">é€‰æ‹©å…³å¡</a>
</div>

<br>

<small>å½“å‰å…³å¡ï¼š</small><span id="å½“å‰å…³å¡">æ— </span>


<script>

let å…³å¡={
    "æ•™å­¦å…³":[
        "ç©ç©å°±ä¼šäº†ã€‚",
        [3,3,"000010000"],
        [3,3,"000111000"],
        [3,3,"001000100"],
        [4,4,"1111111011001000"],
        [4,4,"0110110110110110"],
        [3,3,"101011110"],
        [5,5,"1101110101011101010111011"],

        

    ]
}

let æ£‹ç›˜,æ£‹ç›˜a,æ£‹ç›˜b,å½“å‰,ç­”æ¡ˆ,ç­”æ¡ˆa,ç­”æ¡ˆb,ç­”æ¡ˆc,æ‰‹=1,èƒœåˆ©,å…³å¡æ¨¡å¼,æ­£ç¡®,ç­”å·;

function æ‰“å°(a,b,c){//aæ¨ª bç«– cæ¨¡å¼(æ•°å­—ä¸ºé»‘è‰²æ•°é‡éšæœº)("å…³å¡å_å…³å¡æ•°å­—")
    document.getElementById("èœå•0").style="display:none;";
    document.getElementById("èœå•01").style="display:none;";
    document.getElementById("èœå•02").style="display:none;";
    document.getElementById("èœå•03").style="display:none;";
    document.getElementById("èœå•é€‰å…³").style="display:none;";
    document.getElementById("èœå•1").style="";
    ç­”æ¡ˆ={},ç­”æ¡ˆa={},ç­”æ¡ˆb={},ç­”æ¡ˆc=0,æ£‹ç›˜=[],æ£‹ç›˜a=a,æ£‹ç›˜b=b,å½“å‰={},èƒœåˆ©=0,æ­£ç¡®=0,ç­”å·=0;
    if(c>0){//é»‘è‰²æ•°é‡ï¼Œéšæœºå‡ºæ£‹ç›˜
        for(let i=0;a*b>i;i++){
            if(c*1>i){æ£‹ç›˜[æ£‹ç›˜.length]=1}else{æ£‹ç›˜[æ£‹ç›˜.length]=0}
        }
        arr=æ£‹ç›˜;
        éšæœº();
        æ£‹ç›˜=arr;
        å…³å¡æ¨¡å¼=c;
        document.getElementById("å½“å‰å…³å¡").innerHTML="éšæœº"+a+"ğŸ—™"+b;
    }else{//æœ‰å›¾çš„æ£‹ç›˜
        c=c.split("_");//0_åœ°å›¾xxx(é‡æ–°å¼€å§‹) 1_åœ°å›¾xxx(å¯¼å…¥) å…³å¡å_å…³å¡æ•°å­—
        if(c[0]!="0"){å…³å¡æ¨¡å¼=c.join("_");}
        if(c[0]=="0"||c[0]=="1"){æ£‹ç›˜=c[1].split("");}
        else{æ£‹ç›˜=å…³å¡[c[0]][c[1]][2].split("");}

        if(c[0]=="1"){document.getElementById("å½“å‰å…³å¡").innerHTML="è‡ªå®šä¹‰å…³å¡";}
        else if(c[0]!="0"){document.getElementById("å½“å‰å…³å¡").innerHTML=c[0]+" ç¬¬"+c[1]+"å…³";}
        
    }
    
    let dy="<div id='æ­å–œèƒœåˆ©' style='display:none;'><h3>æ­å–œèƒœåˆ©</h3>";
    if(å…³å¡æ¨¡å¼>0){dy+="<a onclick='æ‰“å°("+a+","+b+","+c+")' class='anniu'>å†æ¥ä¸€å±€</a>"}
    else if(å…³å¡æ¨¡å¼[0]=="1"){}
    
    else{
        let ä¸´æ—¶=å…³å¡æ¨¡å¼.split("_");
        console.log(å…³å¡[ä¸´æ—¶[0]].length,ä¸´æ—¶[1])
        if(å…³å¡[ä¸´æ—¶[0]].length-1>ä¸´æ—¶[1]){

            ä¸´æ—¶[1]=ä¸´æ—¶[1]*1+1;
            dy+="<a onclick=\"æ‰“å°("+å…³å¡[ä¸´æ—¶[0]][ä¸´æ—¶[1]][0]+","+å…³å¡[ä¸´æ—¶[0]][ä¸´æ—¶[1]][1]+",'"+ä¸´æ—¶[0]+"_"+ä¸´æ—¶[1]+"')\" class='anniu'>ä¸‹ä¸€å…³</a>"

        }else{dy+="å·²é€šå…³ã€€<a onclick='é€‰æ‹©å…³å¡()'>é‡æ–°é€‰æ‹©å…³å¡</a>"}
    }
    dy+="<hr></div>";

    dy+="<table class='x_table shuzhi'><tr>";
    for(let i=0;b*1+1>i;i++){
        dy+="<td id='a_0_"+i+"' class='b'></td>";
    }

    for(let i=0;a>i;i++){
        dy+="<tr>";
            ç­”æ¡ˆ[i+1]=[0];
            å½“å‰[i+1]=[0];
            for(let j=0;b>j;j++){
                if(j==0){dy+="<td id='a_"+(i+1)+"_0' class='b'></td>";}
                dy+="<td id='a_"+(i+1)+"_"+(j+1)+"' onclick=\"æŒ‰("+(i+1)+","+(j+1)+")\" class='b0'></td>";

                if(!ç­”æ¡ˆa[i+1]){ç­”æ¡ˆa[i+1]=[0]}if(æ£‹ç›˜[a*i+j]==0&&ç­”æ¡ˆa[i+1][ç­”æ¡ˆa[i+1].length-1]!=0){ç­”æ¡ˆa[i+1][ç­”æ¡ˆa[i+1].length]=0}else if(æ£‹ç›˜[a*i+j]==1){ç­”æ¡ˆa[i+1][ç­”æ¡ˆa[i+1].length-1]+=1;ç­”æ¡ˆc+=1;}

                if(!ç­”æ¡ˆb[j+1]){ç­”æ¡ˆb[j+1]=[0]}if(æ£‹ç›˜[a*i+j]==0&&ç­”æ¡ˆb[j+1][ç­”æ¡ˆb[j+1].length-1]!=0){ç­”æ¡ˆb[j+1][ç­”æ¡ˆb[j+1].length]=0}else if(æ£‹ç›˜[a*i+j]==1){ç­”æ¡ˆb[j+1][ç­”æ¡ˆb[j+1].length-1]+=1;}

                ç­”æ¡ˆ[i+1][j+1]=æ£‹ç›˜[a*i+j];
                å½“å‰[i+1][j+1]=0;
            }
        dy+="</tr>";
    }
    dy+="</table>";
    document.getElementById("dy").innerHTML=dy;

    for(let i=0;a>i;i++){
        let ä¸´æ—¶="";
        for(let j=0;ç­”æ¡ˆa[i+1].length>j;j++){
            if(ç­”æ¡ˆa[i+1][j]!=0){if(ä¸´æ—¶!=""){ä¸´æ—¶+=" "}ä¸´æ—¶+=ç­”æ¡ˆa[i+1][j]}
        }
        ç­”æ¡ˆ[i+1][0]=ä¸´æ—¶;
        if(ä¸´æ—¶==""){æ­£ç¡®+=1;document.getElementById("a_"+(i+1)+"_0").className="fuhe"}
        ç­”å·+=1;
        document.getElementById("a_"+(i+1)+"_0").innerHTML=ä¸´æ—¶;
    }
    ç­”æ¡ˆ[0]=[0];
    for(let i=0;b>i;i++){
        let ä¸´æ—¶="";
        for(let j=0;ç­”æ¡ˆb[i+1].length>j;j++){
            if(ç­”æ¡ˆb[i+1][j]!=0){if(ä¸´æ—¶!=""){ä¸´æ—¶+=" "}ä¸´æ—¶+=ç­”æ¡ˆb[i+1][j]}
        }
        ç­”æ¡ˆ[0][i+1]=ä¸´æ—¶;
        if(ä¸´æ—¶==""){æ­£ç¡®+=1;document.getElementById("a_0_"+(i+1)).className="fuhe"}
        ç­”å·+=1;
        document.getElementById("a_0_"+(i+1)).innerHTML=ä¸´æ—¶.replace(new RegExp(' ',"g"),"<br>");
    }
}

function æŒ‰(a,b){
    if(èƒœåˆ©==0){
    if(å½“å‰[a][b]==0){//å½“å‰ä¸ºç©º
        if(æ‰‹==1){
            å½“å‰[a][b]=1;document.getElementById("a_"+a+"_"+b).className="b1";
        }else{å½“å‰[a][b]=2;document.getElementById("a_"+a+"_"+b).className="b0";document.getElementById("a_"+a+"_"+b).innerHTML="ğŸ—™";}
    }else if(å½“å‰[a][b]==1){//å½“å‰æœ‰
        if(æ‰‹==1){å½“å‰[a][b]=0;document.getElementById("a_"+a+"_"+b).className="b0";
        }else{å½“å‰[a][b]=2;document.getElementById("a_"+a+"_"+b).className="b0";document.getElementById("a_"+a+"_"+b).innerHTML="ğŸ—™";}
    }else{//å½“å‰ä¸ºÃ—
        if(æ‰‹==1){
            å½“å‰[a][b]=1;document.getElementById("a_"+a+"_"+b).className="b1";document.getElementById("a_"+a+"_"+b).innerHTML="";
        }else{å½“å‰[a][b]=0;document.getElementById("a_"+a+"_"+b).innerHTML="";}
    }

    let ä¸´æ—¶=[0];
    for(let i=0;æ£‹ç›˜a>i;i++){
        if(å½“å‰[a][i+1]==1){ä¸´æ—¶[ä¸´æ—¶.length-1]+=1}else if(ä¸´æ—¶[ä¸´æ—¶.length-1]!=0){ä¸´æ—¶[ä¸´æ—¶.length]=0;}
    }
    ä¸´æ—¶=ä¸´æ—¶.filter(item=>item!==0);

    if(ä¸´æ—¶.join(" ")==ç­”æ¡ˆ[a][0]&&document.getElementById("a_"+a+"_0").className=="b"){
        document.getElementById("a_"+a+"_0").className="fuhe";
        æ­£ç¡®+=1;
    }else if(ä¸´æ—¶.join(" ")!=ç­”æ¡ˆ[a][0]&&document.getElementById("a_"+a+"_0").className=="fuhe"){document.getElementById("a_"+a+"_0").className="b";æ­£ç¡®-=1;}

    ä¸´æ—¶=[0];
    for(let i=0;æ£‹ç›˜b>i;i++){
        if(å½“å‰[i+1][b]==1){ä¸´æ—¶[ä¸´æ—¶.length-1]+=1}else if(ä¸´æ—¶[ä¸´æ—¶.length-1]!=0){ä¸´æ—¶[ä¸´æ—¶.length]=0;}
    }
    ä¸´æ—¶=ä¸´æ—¶.filter(item=>item!==0);

    if(ä¸´æ—¶.join(" ")==ç­”æ¡ˆ[0][b]&&document.getElementById("a_0_"+b).className=="b"){
        document.getElementById("a_0_"+b).className="fuhe";
        æ­£ç¡®+=1;
    }else if(ä¸´æ—¶.join(" ")!=ç­”æ¡ˆ[0][b]&&document.getElementById("a_0_"+b).className=="fuhe"){document.getElementById("a_0_"+b).className="b";æ­£ç¡®-=1;}

    if(ç­”å·==æ­£ç¡®){
        èƒœåˆ©=1;document.getElementById("æ­å–œèƒœåˆ©").style="";
        notyf.confirm("æ­å–œèƒœåˆ©");
        let ä¸´æ—¶=æ£‹ç›˜a*æ£‹ç›˜b-ç­”æ¡ˆc;
        if(æ£‹ç›˜a+æ£‹ç›˜b>ç­”æ¡ˆc){}//éš¾åº¦ä½
        else{ä½™é¢(ä¸´æ—¶)}
    }

}
}

function é‡æ–°å¼€å§‹(){
    æ‰“å°(æ£‹ç›˜a,æ£‹ç›˜b,"0_"+æ£‹ç›˜.join(''));
}

function è‡ªé€‰(a,b,c){
    if(a>0&&a.indexOf(".")==-1&&b>0&&b.indexOf(".")==-1&&c>0&&c.indexOf(".")==-1){
        æ‰“å°(a,b,c);
    }else{
        notyf.alert("è¯·è¾“å…¥æ­£ç¡®çš„æ•°å­—");
    }
}

let æ›¿æ¢è¡¨=[["G","11111"],["p","11110"],["5","11101"],["6","11100"],["K","11011"],["W","11010"],["A","11001"],["J","11000"],["I","10111"],["h","10110"],["s","10101"],["t","10100"],["S","10011"],["q","10010"],["T","10001"],["L","10000"],["H","01111"],["j","01110"],["C","01101"],["Y","01100"],["m","01011"],["F","01010"],["B","01001"],["V","01000"],["r","00111"],["a","00110"],["i","00101"],["U","00100"],["w","00011"],["E","00010"],["2","00001"],["R","00000"],["4","1111"],["d","1110"],["f","1101"],["o","1100"],["3","1011"],["u","1010"],["M","1001"],["g","1000"],["z","0111"],["O","0110"],["y","0101"],["b","0100"],["P","0011"],["9","0010"],["8","0001"],["x","0000"],["Q","111"],["c","110"],["l","101"],["k","100"],["e","011"],["X","010"],["7","001"],["Z","000"],["N","11"],["D","10"],["n","01"],["v","00"],["-","1"],["1","0"],["0","-"]]


function å¯¼å…¥(a){
    a=a.split(".");
    for(let i=æ›¿æ¢è¡¨.length-1;i>0;i--){
        a[2]=a[2].replace(new RegExp(æ›¿æ¢è¡¨[i][0],"g"),æ›¿æ¢è¡¨[i][1])
    }
    æ‰“å°(a[0],a[1],"1_"+a[2]);
}
function è½¬æ¢(a){
    a=a.split(".");
    for(let i=0;æ›¿æ¢è¡¨.length>i;i++){
        a[2]=a[2].replace(new RegExp(æ›¿æ¢è¡¨[i][1],"g"),æ›¿æ¢è¡¨[i][0])
    }
    document.getElementById("å¯¼å…¥").value=a.join(".");
}

function é€‰å…³(a){
    document.getElementById("èœå•01").style="display:none;";
    document.getElementById("èœå•é€‰å…³").style="";
    let ä¸´æ—¶="<h3 style='display:inline;'>"+a+"</h3> <a onclick=\"document.getElementById('èœå•é€‰å…³').style='display:none;';document.getElementById('èœå•0').style=''\">å–æ¶ˆ</a><br>"+å…³å¡[a][0]+"<br><br>";
        for(let i=1;å…³å¡[a].length>i;i++){
            ä¸´æ—¶+="<span class='xuanguan' onclick=\"æ‰“å°("+å…³å¡[a][i][0]+","+å…³å¡[a][i][1]+",'"+a+"_"+i+"')\">"+i+"</span>"
            if(i%5==0){ä¸´æ—¶+="<br>"}
        }
    document.getElementById("èœå•é€‰å…³").innerHTML=ä¸´æ—¶;
}

function é€‰æ‹©å…³å¡(){
    document.getElementById('èœå•1').style='display:none;';document.getElementById('èœå•0').style='';document.getElementById('dy').innerHTML='';document.getElementById('å½“å‰å…³å¡').innerHTML='æ— ';
}

</script>

