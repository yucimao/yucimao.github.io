---
layout: o
title: 国男模拟器
nav_yes: 1
permalink: game/guonanmoniqi
---
<style>
    .dui {
        background: #ffffff;
        animation: duib 0.7s linear 1;
        /*Safari 和 Chrome:*/
        -webkit-animation: duib 0.7s linear 1;
        font-size:0.8em;
    }

    @keyframes duib {
        from {
            background-color: #00ff00;
        }

        to {
            background-color: #ffffff;
        }
    }

    /*Safari 和 Chrome:*/
    @-webkit-keyframes duib {
        from {
            background-color: #00ff00;
        }

        to {
            background-color: #ffffff;
        }
    }

    .cuo {
        background: #ffffff;
        animation: cuob 1s linear 1;
        /*Safari 和 Chrome:*/
        -webkit-animation: cuob 0.7s linear 1;
        font-size:0.8em;
    }

    @keyframes cuob {
        from {
            background-color: #ff0000;
        }

        to {
            background-color: #ffffff;
        }
    }

    /*Safari 和 Chrome:*/
    @-webkit-keyframes cuob {
        from {
            background-color: #ff0000;
        }

        to {
            background-color: #ffffff;
        }
    }

    #浮框{
        position: fixed;top:0;background-color:#ffffff;padding:1em;
    }
</style>

<br><br><br><br><br><br>
<div id="dy"></div>

<div id="浮框" class="bukexuanzhong"><br>
<div id="数值">国男模拟器</div><br>
<div id="继续"><button onclick="开始()">开始</button></div>
</div>

<script>
let dy;
let 身体,心理,财富,声誉,好感度;
let 身体_变化,心理_变化,财富_变化,声誉_变化;
let 存活,当前时期,当前进度,当前剧情,arr,临时,感情状态,职业状态,职业,青年结局;

let 青年时期_生活费=5;

let 幼年=[
"幼年1／好／坏／0／0／0／0",
"幼年2／好／坏／0／0／0／0",
"幼年3／好／坏／0／0／0／0",
"幼年4／好／坏／0／0／0／0",
"幼年5／好／坏／0／0／0／0",
];

let 少年=[
"少年1／好／坏／-1／0／0／0",
"少年2／好／坏／-1／0／0／0",
"少年3／好／坏／-1／0／0／0",
"少年4／好／坏／-1／0／0／0",
"少年5／好／坏／-1／0／0／0",
];

let 青年_单身=[
"青年单身1／好／／0／0／0／0／1",
"青年单身2／好／／0／0／0／0／1",
"青年单身3／好／／0／0／0／0／1",
"青年单身4／好／／0／0／0／0／1",
"青年单身5／好／／0／0／0／0／1",
];

let 青年_恋爱=[
"青年恋爱1／好结局／坏结局／0／0／0／0／0",
"青年恋爱2／好结局／坏结局／0／0／0／0／0",
"青年恋爱3／好结局／坏结局／0／0／0／0／0",
"青年恋爱4／好结局／坏结局／0／0／0／0／0",
"青年恋爱5／好结局／坏结局／0／0／0／0／0",
];

let 青年_结婚=[
"青年结婚1／好结局／坏结局／0／0／0／0／0",
"青年结婚2／好结局／坏结局／0／0／0／0／0",
"青年结婚3／好结局／坏结局／0／0／0／0／0",
"青年结婚4／好结局／坏结局／0／0／0／0／0",
"青年结婚5／好结局／坏结局／0／0／0／0／0",
];

let 青年_结局={
"单身":[
    "你试着表白，但是对方以你身高不足为由拒绝了。",
],
"恋爱":[
    "她劈腿了。",
],
"结婚":[
    "你们的婚姻很平淡，但也很幸福。",
],
}

let 中年=[
"网约车司机／10",
"保安／5",
];

let 中年_职业={ //7号为1是失业了
    "网约车司机":[
        "网约车司机1／好结局／坏结局／0／0／0／0／0",
        "网约车司机2／好结局／坏结局／0／0／0／0／0",
        "网约车司机3／好结局／坏结局／0／0／0／0／0",
        "网约车司机4／好结局／坏结局／0／0／0／0／0",
        "网约车司机5／好结局／坏结局／0／0／0／0／0",
    ],
    "保安":[
        "保安1／好结局／坏结局／0／0／0／0／0",
        "保安2／好结局／坏结局／0／0／0／0／0",
        "保安3／好结局／坏结局／0／0／0／0／0",
        "保安4／好结局／坏结局／0／0／0／0／0",
        "保安5／好结局／坏结局／0／0／0／0／0",
    ],
};

let 中年_失业_已婚=[
    "中年失业结局，已婚",
];

let 中年_失业_单身=[
    "中年事业结局，单身",
];

let 老年_结局=[
    "0／0／0／0／已婚／结局内容",
];

let 老年_结局_随机=[
    "随机结局",
];

// let 固定剧情=[
//     "家长给了你一些零花钱。／／／0／0／5／0",
// ]

function 数值(){
    document.getElementById("数值").innerHTML = "身体："+身体+身体_变化+"　/　心理："+心理+心理_变化+"　/　财富："+财富+财富_变化+"　/　声誉："+声誉+声誉_变化;
    document.getElementById("dy").innerHTML = dy + "<a name='位置'></a>";
}

function 随机(){
  let _arr = arr.slice();
  for (let i = 0; i < _arr.length; i++) {
    let j = getRandomInt(0, i)
    let t = _arr[i]
    _arr[i] = _arr[j]
    _arr[j] = t
  }
  function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min)
}
arr=_arr;
}

function 状态(){
    dy+="<p>"+当前时期.substr(0, 2)+"时期：你是一个";
    if(身体>10&&心理>10){
    }else if(身体>10){
        dy+="心理不太";
    }else if(心理>10){
        dy+="身体不太";
    }else{
        dy+"身体和心理都不太";
    }
    dy+="健康的"+当前时期.substr(0, 2)+"国男。</p>";
}

function 判定(){
    身体+=当前剧情[3]*1;
    if(当前剧情[3]*1>0){身体_变化=" <span class='dui'>+"+当前剧情[3]+"</span>";}else if(当前剧情[3]*1<0){身体_变化=" <span class='cuo'>"+当前剧情[3]+"</span>";}else{身体_变化="";}
    心理+=当前剧情[4]*1;
    if(当前剧情[4]*1>0){心理_变化=" <span class='dui'>+"+当前剧情[4]+"</span>";}else if(当前剧情[4]*1<0){心理_变化=" <span class='cuo'>"+当前剧情[4]+"</span>";}else{心理_变化="";}
    财富+=当前剧情[5]*1;
    if(当前剧情[5]*1>0){财富_变化=" <span class='dui'>+"+当前剧情[5]+"</span>";}else if(当前剧情[5]*1<0){财富_变化=" <span class='cuo'>"+当前剧情[5]+"</span>";}else{财富_变化="";}
    声誉+=当前剧情[6]*1;
    if(当前剧情[6]*1>0){声誉_变化=" <span class='dui'>+"+当前剧情[6]+"</span>";}else if(当前剧情[6]*1<0){声誉_变化=" <span class='cuo'>"+当前剧情[6]+"</span>";}else{声誉_变化="";}
    dy+="<p>"+当前剧情[0];
    if(身体<1||心理<1||财富<1||声誉<1){ //死亡
        if(当前剧情[2].length==0){ //没有预设的死亡剧情
            dy+="</p>";
            if(身体<1){
                dy+="因为身体受损过重，你死了。";
            }else if(心理<1){
                dy+="因长期心理问题积压，你疯了。";
            }else if(财富<1){
                dy+="因没钱吃饭，你饿死了。";
            }else if(声誉<1){
                dy+="因声誉太低，你社会性死亡了。";
            }
            dy+="<p>";
        }else{ //预设的死亡剧情
            dy+=当前剧情[2];
        }
        dy+="<p>感情状态："+感情状态+"<br>职业状态："+职业状态+"</p>";
        document.getElementById("继续").innerHTML = "　　　<button onclick='开始()'>重新开始</button>";
    }else{ //存活
        dy+=当前剧情[1];
    }
    dy+="</p>";
}

function 开始(){
    身体_变化="";
    心理_变化="";
    财富_变化="";
    声誉_变化="";
    感情状态="无";
    职业状态="小朋友";
    青年结局=0;
    身体=Math.floor(Math.random()*12)+9;
    心理=Math.floor(Math.random()*12)+9;
    财富=1;
    声誉=10;
    当前时期="幼年";
    当前进度=0;
    dy="";
    状态();
    document.getElementById("继续").innerHTML = "<button onclick='继续()'>继续</button>";
    数值();
    arr=幼年;
    随机();
    存活=1;
};

function 继续(){
    window.location.href="#位置";
    window.scrollBy(0, -100);
    if(当前时期=="幼年"){ //幼年
        if(当前进度<5){
            当前剧情=arr[当前进度].split("／");
            判定();
            数值();
            当前进度+=1;
        }else{ //幼年→少年
            当前时期="少年";
            当前进度=0;
            职业状态="学生";
            状态();
            // 当前剧情=固定剧情[0].split("／");
            // 判定();
            数值();
            arr=少年;
            随机();
        }
        
    }else if(当前时期=="少年"){ //少年
        if(当前进度<5){
            当前剧情=arr[当前进度].split("／");
            判定();
            数值();
            当前进度+=1;
        }else{ //少年→青年
            当前时期="青年_单身";
            当前进度=0;
            状态();
            财富+=青年时期_生活费;
            dy+="<p>你得到了一些生活费。</p>";
            财富_变化=" <span class='dui'>+"+青年时期_生活费+"</span>";
            数值();
            arr=青年_单身;
            随机();
            好感度=5;
        }

    }else if(当前时期.substr(0, 2)=="青年"){ //青年
        if(当前进度<5){
            当前剧情=arr[当前进度].split("／");
            判定();
            数值();
            当前进度+=1;
            if(存活==1){
                好感度+=当前剧情[7]*1;
                if(好感度==0){
                    青年结局=1;
                    let 青年_注孤生={
                        "单身":"由于不会讨好女孩，你一直没能脱离单身狗的身份。",
                        "恋爱":"由于没能让女友满意，你被甩了，恢复单身。",
                        "结婚":"由于生活中的种种，妻子对你非常失望，最终两人离婚了。",
                    }
                    dy+=青年_注孤生[当前时期.substr(3, 2)];
                    感情状态="孤独终老";
                    数值();
                    当前进度+=100;
                }else if(好感度>10&&当前时期!="青年_结婚"){
                    临时=当前时期.substr(3,2);
                    if(临时=="单身"){
                        dy+="<p>某天，你表白成功，你们两个在一起了。</p>";
                        当前时期="青年_恋爱";
                        感情状态="恋爱中";
                    }else if(临时=="恋爱"){
                        dy+="<p>某天，你求婚成功，你们两个结婚了。</p>";
                        当前时期="青年_结婚";
                        感情状态="已婚";
                    }
                    好感度=5;
                    当前进度=0;
                    数值();
                }
            }
        }else if(青年结局=="0"){ //青年→中年
            临时=当前时期.substr(3,2);
            arr=青年_结局[临时];
            随机();
            dy+="<p>"+arr[0]+"</p>";
            数值();
            青年结局=1;
            if(临时=="单身"||临时=="恋爱"){
                感情状态="孤独终老";
            }else{感情状态="已婚";}

        }else if(青年结局=="1"){
            状态();
            arr=中年;
            随机();
            职业=arr[0].split("／")[0];
            财富+=arr[0].split("／")[1]*1;
            dy+="<p>你现在的职业是一名"+职业+"，经过一些年兢兢业业的劳作，你艰苦的维持着生活。</p>";
            职业状态=职业;
            财富_变化=" <span class='dui'>+"+arr[0].split("／")[1]+"</span>";
            数值();
            当前时期="中年";
            arr=中年_职业[职业];
            随机();
            当前进度=0;
        }


    }else if(当前时期=="中年"){ //中年
        if(当前进度<5){
            当前剧情=arr[当前进度].split("／");
            判定();
            数值();
            当前进度+=1;
            if(存活==1&&当前剧情[7]=="1"){//失业
                if(感情状态=="已婚"){
                    arr=中年_失业_已婚;
                    随机();
                    dy+="<p>"+arr[0]+"</p>";
                }else{
                    arr=中年_失业_单身;
                    随机();
                    dy+="<p>"+arr[0]+"</p>";
                }
                存活=0;
                数值();
                dy+="<p>感情状态："+感情状态+"<br>职业状态："+职业状态+"</p>";
                document.getElementById("继续").innerHTML = "　　　<button onclick='开始()'>重新开始</button>";
            }

        }else{ //中年→老年
            let 确定结局="0";
            for(let i2=0;老年_结局.length>i2;i2++){
                临时=老年_结局[i2].split("／");
                if(身体==临时[0]&&心理==临时[1]&&财富==临时[2]&&声誉==临时[3]&&感情状态==临时[4]){
                    确定结局=临时[5];
                    i2=老年_结局.length;
                }
            }
            if(确定结局=="0"){
                arr=老年_结局_随机;
                随机();
                确定结局=arr[0];
            }
            dy+="<p>"+确定结局+"</p>";
            dy+="<p>感情状态："+感情状态+"<br>职业状态："+职业状态+"</p>";
            数值();
            document.getElementById("继续").innerHTML = "　　　<button onclick='开始()'>重新开始</button>";
        }
        
    }

}

</script>
