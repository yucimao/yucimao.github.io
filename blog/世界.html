---
layout: page2
title: 猫球的世界
permalink: world
---
<style>
*{background-color: #111;color:#888}
*::-webkit-scrollbar {width: 10px;height: 1px;}
*::-webkit-scrollbar-thumb {background-color: #888;border-width: 10px;}
a{color:#ccc;cursor:pointer;}
a:hover{color:#ddd;}
#body{margin:5% auto 20% auto;}
#dy{border-width:2px;border-color:#555;border-style:solid;}

@media screen and (min-width: 768px) { /*电脑*/
#body{width:60%;}
} /*电脑*/

@media screen and (max-width: 768px) { /*手机*/
#body{width:80%;}
} /*手机*/

.dy_top_1 {background: #111;animation: dy_top_1b 0.5s linear 1;-webkit-animation: dy_top_1b 0.5s linear 1;}
@keyframes dy_top_1b {from {background-color: #aaa;}to {background-color: #111;}}
@-webkit-keyframes dy_top_1b {from {background-color: #aaa;}to {background-color: #111;}}
/* ↑出现 ↓消失 */
.dy_top_2 {color: #111;animation: dy_top_2b 0.7s linear 1;-webkit-animation: dy_top_2b 0.7s linear 1;}
@keyframes dy_top_2b {from {color: #888;}to {color: #111;}}
@-webkit-keyframes dy_top_2b {from {color: #888;}to {color: #111;}}
</style>

<div id="body">

    <div id="警告">　</div>
    <div id="地图">　</div>
    <div id="景色">　</div>
    <div id="选项"><a onclick="到处逛逛()">到处逛逛</a></div>

    </div>

<script>
document.getElementById("siteWelcome").innerHTML = "";
document.getElementById("back-top").innerHTML = "";

let 获取数据_地址,ix_输入,当前地图,临时,临时2;
let 地图_剧本="　",景色_剧本="　";
let 地图_打印="",景色_打印="";
let 地图_i=0,景色_i=0;
let 打印速度=175;
let ix="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
let ix_b="ixABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghjklmnopqrstuvwyz0123456789";
let 地图目录=new Array("测试1","测试2");

function 获取数据(){
    document.getElementById("警告").className = "dy_top_0";
    警告_计时="a";
    document.getElementById("警告").className = "dy_top_1";
    获取数据_地址="/i/x/mq_world/"+获取数据_地址+".json";
    let GetJson = $.ajax({
        url: 获取数据_地址,//json文件位置
        type: "GET",
        dataType: "json",
        async: false,
        success: function (data) {
        }
    });
    ix_输入=GetJson.responseText;
    解密();
    当前地图=ix_输入;
    警告_计时=0;
}

function 解密(){
替换 = new RegExp('', "g");
ix_输入 = ix_输入.replace(替换, '／');
for(let i=0;ix_b.length>i;i++){
    临时="／"+ix_b[i];
    临时2=ix[i];
    替换 = new RegExp(临时, "g");
    ix_输入 = ix_输入.replace(替换, 临时2);
}
替换 = new RegExp("／", "g");
ix_输入 = ix_输入.replace(替换, "");
ix_输入 = window.decodeURIComponent(atob(ix_输入));
}

function 打印机(){
    if(警告_倒计时=="a"){
        document.getElementById("警告").innerHTML = 警告_加载;
        警告_倒计时=="b";
    }
    else if(警告_倒计时=="b"){
        document.getElementById("警告").innerHTML = 警告_加载+"_";
        警告_倒计时=="a";
    }
    else{
        document.getElementById("警告").className = "dy_top_2";
    }

    if(地图_剧本.length > 地图_i) {
            if (地图_剧本[地图_i] == "　"){地图_i+=1}
            else if (地图_剧本[地图_i] == "［") {
                地图_i+=1;
                while (地图_剧本[地图_i] != "］") {
                    地图_打印 += 地图_剧本[地图_i];
                    地图_i += 1;
                }
                地图_i+=1;
            }
            else{
            地图_打印 += 地图_剧本[地图_i];
            地图_i+=1;
            }
            document.getElementById("地图").innerHTML = 地图_打印;
        }
        else if(景色_剧本.length > 景色_i) {
            if (景色_剧本[景色_i] == "　"){景色_i+=1}
            else if (景色_剧本[景色_i] == "［") {
                景色_i+=1;
                while (景色_剧本[景色_i] != "］") {
                    景色_打印 += 景色_剧本[景色_i];
                    景色_i += 1;
                }
                景色_i+=1;
            }
            else{
                景色_打印 += 景色_剧本[景色_i];
                景色_i+=1;
            }
            document.getElementById("景色").innerHTML = 景色_打印;
        }
}

临时 = new Date().getDate()+new Date().getHours();
临时2 = 地图目录.length;
临时 = 临时%临时2;
当前地图 = 地图目录[临时];
获取数据_地址=当前地图;
警告_加载="正在寻找前往"+当前地图+"的路";
获取数据();
地图_剧本 = 当前地图.split("[")[1].split("]")[0];
地图_打印="";
地图_i=0;
let 开始打印 = setInterval(打印机,打印速度);

function 到处逛逛(){
    临时 = 当前地图.split("[").length;
    临时-=2;
    let 随机数 = Math.floor(Math.random()*临时);
    景色_剧本=当前地图.split("[")[随机数].split("]")[0];
    景色_打印="";
    景色_i=0;
}

</script>

